<!DOCTYPE html>
<html>
  <head>
    <base href="./" />
    <meta charset="utf-8" />
    <title>HyperMD Playground</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
  </head>

  <body>
    <link rel="stylesheet" href="./demo/style.css" />

    <div id="loadSplash">
      <h1>HyperMD</h1>
      <p>
        <b>Breaks the Wall</b> between <i>writing</i> and <i>preview</i>, in a
        Markdown Editor.
      </p>
      <p>
        A WYSIWYG Markdown editor provided by
        <a href="https://laobubu.net">laobubu</a>
      </p>
      <p><a href="https://github.com/laobubu/hypermd/">[View on GitHub]</a></p>
      <p>&nbsp;</p>
      <div id="loadErrorSplash" style="display: none;">
        <p>
          Failed to load modules.
          <a href="#" onclick="location.reload()"
            >Click here to Retry &raquo;</a
          >
        </p>
        <ul id="loadErrorList"></ul>
      </div>
      <p style="font-size: 1.8em; text-align: center;">
        <b><i>Loading...</i></b>
      </p>
      <p style="font-size: 0.9em; text-align: center;">
        <i id="loadingFileName"></i>
      </p>
      <p>&nbsp;</p>
    </div>

    <div id="math-preview" class="float-win float-win-hidden">
      <div class="float-win-title">
        <button class="float-win-close">
          <svg class="icon icon-cross">
            <use xlink:href="./demo/svgicon/symbol-defs.svg#icon-cross"></use>
          </svg>
        </button>
        Math Preview
      </div>
      <div class="float-win-content" id="math-preview-content"></div>
    </div>

    <div id="winLab" class="float-win float-win-hidden">
      <div class="float-win-title">
        <button class="float-win-close">
          <svg class="icon icon-cross">
            <use xlink:href="./demo/svgicon/symbol-defs.svg#icon-cross"></use>
          </svg>
        </button>
        Lab
      </div>
      <div class="float-win-content" style="column-count: 2;">
        <fieldset>
          <legend>Behavior</legend>
          <p>
            <label lab-bind="Hover.enabled">
              <input type="checkbox" /><em>Hover</em>
              <span class="opt-tip">hmdHover.enabled</span>
            </label>
          </p>
          <p>
            <label lab-bind="Click.enabled">
              <input type="checkbox" /><em>Click</em>
              <span class="opt-tip">hmdClick.enabled</span>
            </label>
          </p>
          <p>
            <em>InsertFile</em> by
            <label lab-bind="InsertFile.byPaste">
              <input type="checkbox" />Paste
              <span class="opt-tip">hmdInsertFile.byPaste</span>
            </label>
            <label lab-bind="InsertFile.byDrop">
              <input type="checkbox" />Drag'n'Drop
              <span class="opt-tip">hmdInsertFile.byDrop</span>
            </label>
          </p>
        </fieldset>
        <fieldset>
          <legend><em>ReadLink</em></legend>
          <p>
            Resolve relative URL with <br />
            <label lab-bind="ReadLink.baseURI"
              >BaseURI
              <input type="text" style="width: 250px;" />
              <span class="opt-tip">hmdReadLink.BaseURI</span>
            </label>
          </p>
        </fieldset>
        <fieldset>
          <legend>Appearance</legend>
          <p>
            <label lab-bind="TableAlign.enabled">
              <input type="checkbox" /><em>TableAlign</em>
              <span class="opt-tip">hmdTableAlign.enabled</span>
            </label>
          </p>
          <p>
            <label lab-bind="HideToken.enabled">
              <input type="checkbox" /><em>HideToken</em>
              <span class="opt-tip">hmdHideToken.enabled</span>
            </label>
          </p>
        </fieldset>
        <fieldset>
          <legend><em>Fold</em></legend>
          <p>
            <label lab-bind lab-bind-fold="image">
              <input type="checkbox" />image
              <span class="opt-tip">hmdFold.image</span>
            </label>
            <label lab-bind lab-bind-fold="link">
              <input type="checkbox" />link
              <span class="opt-tip">hmdFold.link</span>
            </label>
            <label lab-bind lab-bind-fold="math">
              <input type="checkbox" />math
              <span class="opt-tip">
                <em>(Requires fold-math Addon)</em><br />
                hmdFold.math
              </span>
            </label>
            <label lab-bind lab-bind-fold="html">
              <input type="checkbox" />html
              <span class="opt-tip at-right">
                <em>(Requires fold-html Addon)</em><br />
                hmdFold.html
              </span>
            </label>
            <label lab-bind lab-bind-fold="emoji">
              <input type="checkbox" />emoji
              <span class="opt-tip at-right">
                <em>(Requires fold-emoji Addon)</em><br />
                hmdFold.emoji
              </span>
            </label>
          </p>
        </fieldset>

        <fieldset>
          <legend><em>Demo Page</em> Features</legend>
          <p><small>These features only work on current page.</small></p>
          <p>
            <label lab-bind lab-bind-demo="directOpen">
              <input type="checkbox" />directOpen
              <span class="opt-tip"
                >Click to open links, without alt / ctrl</span
              >
            </label>
            <label lab-bind lab-bind-demo="mathPreview">
              <input type="checkbox" />mathPreview
              <span class="opt-tip at-right"
                >Display a preview while writing TeX formula</span
              >
            </label>
          </p>
        </fieldset>
      </div>
    </div>

    <div id="editor_area">
      <div id="toc"></div>
      <textarea id="demo" style="display: none;"></textarea>
      <div id="preview" class="preview" style="display: none;">
        This is preview
      </div>
    </div>

    <!-- for powerpack/fold-math-with-mathjax -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
          jax: ["input/TeX", "output/HTML-CSS","output/NativeMML","output/SVG"],
          extensions: ["MathMenu.js","MathZoom.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
          TeX: {
              extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
          }
      });
    </script>

    <!-- 0xGG Team -->
    <!-- mermaid -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <!-- marked -->
    <script src="https://cdn.jsdelivr.net/npm/marked@0.7.0/lib/marked.min.js"></script>
    <!-- plantuml-encoder -->
    <script src="https://cdn.jsdelivr.net/npm/plantuml-encoder@1.4.0/dist/plantuml-encoder.min.js"></script>
    <!-- echarts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@4.5.0/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts-gl@1.1.1/dist/echarts-gl.min.js"></script>
    <!-- wavedrom -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.1.2/skins/default.js"
      type="text/javascript"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.1.2/wavedrom.min.js"
      type="text/javascript"
    ></script>
    <!-- prismjs -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.17.1/prism.min.js"></script>
    <!-- html2pdf -->
    <!-- <script src="https://raw.githack.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script> -->
    <!-- vega -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5/build/vega.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4/build/vega-lite.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6/build/vega-embed.min.js"></script>

    <!-- 0xGG Team -->

    <!-- using require.js to solve the dependencies -->
    <script src="./demo/vendor/require.js"></script>
    <script src="./goods/patch-requirejs.js"></script>
    <script src="./demo/requirejs_packages.js"></script>
    <script src="./demo/index.js"></script>

    <!-- for this demo only -->
    <script src="./demo/float-win.js"></script>
    <script src="./demo/math-preview.js"></script>
    <script src="./demo/toc.js"></script>
    <script src="./demo/lab.js"></script>

    <!-- 0xGG Team -->
    <script src="./demo/preview/index.js"></script>

    <!-- some useless test stuff -->
    <div id="test-box">
      <div class="test-item">
        <button
          onclick="(function(){HyperMD.switchToNormal(editor); hidePreview()})()"
        >
          <svg class="icon icon-code">
            <use xlink:href="./demo/svgicon/symbol-defs.svg#icon-code"></use>
          </svg>
          Normal
        </button>
        <div class="test-tooltip">
          Use default theme provided by CodeMirror, disable HyperMD's visual
          tricks.
        </div>
      </div>

      <div class="test-item">
        <button
          onclick="(function(){HyperMD.switchToHyperMD(editor); hidePreview()})()"
        >
          <svg class="icon icon-magic">
            <use xlink:href="./demo/svgicon/symbol-defs.svg#icon-magic"></use>
          </svg>
          HyperMD Mode
        </button>
        <div class="test-tooltip">Revert previous button's change.</div>
      </div>

      <div class="test-item">
        <button onclick="togglePreview(editor)">
          <svg class="icon icon-magic">
            <use xlink:href="./demo/svgicon/symbol-defs.svg#icon-magic"></use>
          </svg>
          Preview Mode
        </button>
        <select id="theme-selector">
          <option value="light">light</option>
          <option value="dark">dark</option>
          <option value="one-dark">one-dark</option>
          <option value="solarized-light">solarized-light</option>
        </select>
        <div class="test-tooltip">Show preview</div>
      </div>

      <div class="right test-item">
        <button onclick="window.open('https://github.com/laobubu/hypermd/')">
          <svg class="icon icon-github">
            <use xlink:href="./demo/svgicon/symbol-defs.svg#icon-github"></use>
          </svg>
          <span class="phone-hidden">GitHub</span>
        </button>
        <div class="test-tooltip">View HyperMD on GitHub</div>
      </div>

      <div class="right test-item">
        <button onclick="window.open(demo_page_baseurl + 'docs')">
          <svg class="icon icon-book">
            <use xlink:href="./demo/svgicon/symbol-defs.svg#icon-book"></use>
          </svg>
          <span class="phone-hidden">Documentation</span>
        </button>
        <div class="test-tooltip">Documentation</div>
      </div>

      <div class="right test-item">
        <button onclick="printPreview()">
          <svg class="icon icon-book">
            <use xlink:href="./demo/svgicon/symbol-defs.svg#icon-book"></use>
          </svg>
          <span class="phone-hidden">Print Preview</span>
        </button>
        <div class="test-tooltip">Print Preview</div>
      </div>

      <div class="test-item">
        <button onclick="winLab.show(true)">
          <svg class="icon icon-lab">
            <use xlink:href="./demo/svgicon/symbol-defs.svg#icon-lab"></use>
          </svg>
          <span class="phone-hidden">Lab</span>
        </button>
        <div class="test-tooltip">Inspect editor (and demo page) options</div>
      </div>
    </div>
    <script src="./demo/index2.js"></script>

    <link rel="stylesheet" href="./demo/svgicon/style.css" />
    <script defer src="./demo/svgicon/svgxuse.js"></script>
  </body>
</html>
